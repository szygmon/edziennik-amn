CREATE TABLE educators (clas_id INT NOT NULL, teacher_id INT NOT NULL, PRIMARY KEY(clas_id, teacher_id));
CREATE INDEX IDX_43ED22A51CDC0B8A ON educators (clas_id);
CREATE INDEX IDX_43ED22A541807E1D ON educators (teacher_id);
CREATE TABLE Father (id INT NOT NULL, phone VARCHAR(255) NOT NULL, PRIMARY KEY(id));
ALTER TABLE educators ADD CONSTRAINT FK_43ED22A51CDC0B8A FOREIGN KEY (clas_id) REFERENCES Clas (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE educators ADD CONSTRAINT FK_43ED22A541807E1D FOREIGN KEY (teacher_id) REFERENCES Teacher (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE Father ADD CONSTRAINT FK_C889348EBF396750 FOREIGN KEY (id) REFERENCES users (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student ADD father_id INT DEFAULT NULL;
ALTER TABLE student ADD CONSTRAINT FK_789E96AF2055B9A2 FOREIGN KEY (father_id) REFERENCES Father (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
CREATE UNIQUE INDEX UNIQ_789E96AF2055B9A2 ON student (father_id);
