{% extends './base.html.twig' %}

{% block title %}eDziennik AMN - lekcja{% endblock %}
{% block content %}

    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Szkoła
            <small>Control panel</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="{{ url('Home/index') }}"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="{{ url('School/index') }}"><i class="fa"></i>Szkoła</a></li>
            <li><a href="{{ url('School/classrooms') }}"><i class="fa"></i>Sale lekcyjne</a></li>
            <li class="active">Dodaj nową</li>
        </ol>
    </section>

    <section class="content">

        <!-- TO DO List -->
        <div class="box box-primary">
            <div class="box-header">
                <i class="ion ion-clipboard"></i>
                <h3 class="box-title">Plan lekcji</h3>
            </div><!-- /.box-header -->

            <div class="box-body">

                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th width="1%">#</th>
                            <th width="18%">Przedmiot</th>
                            <th width="80%" colspan="20" class="text-center">Oceny</th>
                            <th width="1%">
                                Śr.
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set nr = 1 %}
                        {% for subject in subjects %}
                            <tr>
                                <td>{{ nr }}</td>
                                <td>{{ subject.subject }}</td>
                                {% for i in range(1, 20) %}
                                    <td width="3%" class="text-center">
                                        <span data-placement="top" data-toggle="tooltip" title="Opis: {{ ratings[subject.id][i].ratingDesc.description }}<br />Waga: {{ ratings[subject.id][i].ratingDesc.weight }}<br />Data: {{ ratings[subject.id][i].date|date("Y-m-d") }}" class="tooltipRating" style="color: {{ ratings[subject.id][i].ratingDesc.color }}">{{ ratings[subject.id][i].value }}</span>
                                    </td>
                                {% endfor %}
                                <td>
                                    {{ ratingsAv[subject.id] }}
                                </td>
                            </tr>
                            {% set nr = nr + 1 %}
                        {% endfor %}

                    </tbody>
                </table>


            </div><!-- /.box-body -->
        </div>

    </section>


    <script type="text/javascript">
        $('.tooltipRating').tooltip({html: true})
    </script>

{% endblock %}